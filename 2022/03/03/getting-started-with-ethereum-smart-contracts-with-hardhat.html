<!doctype html><html lang=zh><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>ä½¿ç”¨ Hardhat å…¥é—¨ä»¥å¤ªåŠæ™ºèƒ½åˆçº¦ - ZA TAN</title><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no,minimal-ui"><meta name=renderer content="webkit"><meta http-equiv=cache-control content="no-transform"><meta http-equiv=cache-control content="no-siteapp"><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-status-bar-style content="black"><meta name=format-detection content="telephone=no,email=no,adress=no"><meta name=theme-color content="#000000"><meta http-equiv=window-target content="_top"><meta name=description content="0x1 æ¦‚è¿° æˆ‘åœ¨å…¥é—¨ä»¥å¤ªåŠæ™ºèƒ½åˆçº¦å¼€å‘æ—¶ï¼Œé¦–å…ˆæˆ‘å°±é¢ä¸´äº†ä¸€ä¸ªé€‰æ‹©ï¼ŒHardhat Vs Truffle Vs Remixï¼Œæˆ‘åº”è¯¥é€‰æ‹©å“ªä¸ªå¼€å‘å·¥å…·ã€‚æˆ‘å°±åœ¨è°·æ­Œä¸Šæœç´¢å¾ˆå¤šå¯¹æ¯”"><meta name=generator content="Hugo 0.110.0 with theme pure"><title>ä½¿ç”¨ Hardhat å…¥é—¨ä»¥å¤ªåŠæ™ºèƒ½åˆçº¦ - ZA TAN</title><link rel=icon href=/favicon.png type=image/x-icon><link rel=stylesheet href=/css/style.min.c58e22f1aa6179cd5cb60b9e08421a2b9a9c9fe9352d095e051b51aae209e5c0.css><link rel=stylesheet href=https://cdn.staticfile.org/highlight.js/9.15.10/styles/github.min.css async><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.css async><meta property="og:title" content="ä½¿ç”¨ Hardhat å…¥é—¨ä»¥å¤ªåŠæ™ºèƒ½åˆçº¦"><meta property="og:description" content="0x1 æ¦‚è¿° æˆ‘åœ¨å…¥é—¨ä»¥å¤ªåŠæ™ºèƒ½åˆçº¦å¼€å‘æ—¶ï¼Œé¦–å…ˆæˆ‘å°±é¢ä¸´äº†ä¸€ä¸ªé€‰æ‹©ï¼ŒHardhat Vs Truffle Vs Remixï¼Œæˆ‘åº”è¯¥é€‰æ‹©å“ªä¸ªå¼€å‘å·¥å…·ã€‚æˆ‘å°±åœ¨è°·æ­Œä¸Šæœç´¢å¾ˆå¤šå¯¹æ¯”"><meta property="og:type" content="article"><meta property="og:url" content="https://www.ganymedenil.com/2022/03/03/getting-started-with-ethereum-smart-contracts-with-hardhat.html"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-03-03T00:53:25+00:00"><meta property="article:modified_time" content="2022-03-03T00:53:25+00:00"><meta itemprop=name content="ä½¿ç”¨ Hardhat å…¥é—¨ä»¥å¤ªåŠæ™ºèƒ½åˆçº¦"><meta itemprop=description content="0x1 æ¦‚è¿° æˆ‘åœ¨å…¥é—¨ä»¥å¤ªåŠæ™ºèƒ½åˆçº¦å¼€å‘æ—¶ï¼Œé¦–å…ˆæˆ‘å°±é¢ä¸´äº†ä¸€ä¸ªé€‰æ‹©ï¼ŒHardhat Vs Truffle Vs Remixï¼Œæˆ‘åº”è¯¥é€‰æ‹©å“ªä¸ªå¼€å‘å·¥å…·ã€‚æˆ‘å°±åœ¨è°·æ­Œä¸Šæœç´¢å¾ˆå¤šå¯¹æ¯”"><meta itemprop=datePublished content="2022-03-03T00:53:25+00:00"><meta itemprop=dateModified content="2022-03-03T00:53:25+00:00"><meta itemprop=wordCount content="7064"><meta itemprop=keywords content="Hardhat,æ™ºèƒ½åˆçº¦,ä»¥å¤ªåŠ,Solidity,"><meta name=twitter:card content="summary"><meta name=twitter:title content="ä½¿ç”¨ Hardhat å…¥é—¨ä»¥å¤ªåŠæ™ºèƒ½åˆçº¦"><meta name=twitter:description content="0x1 æ¦‚è¿° æˆ‘åœ¨å…¥é—¨ä»¥å¤ªåŠæ™ºèƒ½åˆçº¦å¼€å‘æ—¶ï¼Œé¦–å…ˆæˆ‘å°±é¢ä¸´äº†ä¸€ä¸ªé€‰æ‹©ï¼ŒHardhat Vs Truffle Vs Remixï¼Œæˆ‘åº”è¯¥é€‰æ‹©å“ªä¸ªå¼€å‘å·¥å…·ã€‚æˆ‘å°±åœ¨è°·æ­Œä¸Šæœç´¢å¾ˆå¤šå¯¹æ¯”"><!--[if lte IE 9]><script src=https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js></script><![endif]--><!--[if lt IE 9]><script src=https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js></script>
<script src=https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js></script><![endif]--></head></head><body class="main-center theme-white" itemscope itemtype=http://schema.org/WebPage><header class=header itemscope itemtype=http://schema.org/WPHeader><div class=slimContent><div class=navbar-header><div class="profile-block text-center"><a id=avatar href=https://github.com/GanymedeNil target=_blank><img class="img-circle img-rotate" src=/avatar.png width=200 height=200></a><h2 id=name class="hidden-xs hidden-sm">Ganymede Nil</h2><h3 id=title class="hidden-xs hidden-sm hidden-md">Developer</h3><small id=location class="text-muted hidden-xs hidden-sm"><i class="icon icon-map-marker"></i>BeiJing, China</small></div><div class=search id=search-form-wrap><form class="search-form sidebar-form"><div class=input-group><input type=text class="search-form-input form-control" placeholder=æœç´¢>
<span class=input-group-btn><button type=submit class="search-form-submit btn btn-flat" onclick=return!1><i class="icon icon-search"></i></button></span></div><div class=ins-search><div class=ins-search-mask></div><div class=ins-search-container><div class=ins-input-wrapper><input type=text class=ins-search-input placeholder=æƒ³è¦æŸ¥æ‰¾ä»€ä¹ˆ... x-webkit-speech>
<button type=button class="close ins-close ins-selectable" data-dismiss=modal aria-label=Close><span aria-hidden=true>Ã—</span></button></div><div class=ins-section-wrapper><div class=ins-section-container></div></div></div></div></form></div><button class="navbar-toggle collapsed" type=button data-toggle=collapse data-target=#main-navbar aria-controls=main-navbar aria-expanded=false>
<span class=sr-only>Toggle navigation</span>
<span class=icon-bar></span>
<span class=icon-bar></span>
<span class=icon-bar></span></button></div><nav id=main-navbar class="collapse navbar-collapse" itemscope itemtype=http://schema.org/SiteNavigationElement role=navigation><ul class="nav navbar-nav main-nav"><li class="menu-item menu-item-home"><a href=/><i class="icon icon-home-fill"></i>
<span class=menu-title>é¦–é¡µ</span></a></li><li class="menu-item menu-item-archives"><a href=/posts><i class="icon icon-archives-fill"></i>
<span class=menu-title>å½’æ¡£</span></a></li><li class="menu-item menu-item-categories"><a href=/categories><i class="icon icon-folder"></i>
<span class=menu-title>åˆ†ç±»</span></a></li><li class="menu-item menu-item-tags"><a href=/tags><i class="icon icon-tags"></i>
<span class=menu-title>æ ‡ç­¾</span></a></li><li class="menu-item menu-item-links"><a href=/links><i class="icon icon-friendship"></i>
<span class=menu-title>å‹é“¾</span></a></li><li class="menu-item menu-item-about"><a href=/about><i class="icon icon-cup-fill"></i>
<span class=menu-title>å…³äº</span></a></li></ul></nav></div></header><aside class=sidebar itemscope itemtype=http://schema.org/WPSideBar><div class=slimContent><div class=widget><h3 class=widget-title>å…¬å‘Š</h3><div class=widget-body><div id=board><div class=content><p>æ¬¢è¿äº¤æµä¸åˆ†äº«ç»éªŒ!~</p></div></div></div></div><div class=widget><h3 class=widget-title>åˆ†ç±»</h3><div class=widget-body><ul class=category-list><li class=category-list-item><a href=/categories/AI/ class=category-list-link>AI</a><span class=category-list-count>6</span></li><li class=category-list-item><a href=/categories/Go/ class=category-list-link>Go</a><span class=category-list-count>2</span></li><li class=category-list-item><a href=/categories/Laravel/ class=category-list-link>Laravel</a><span class=category-list-count>1</span></li><li class=category-list-item><a href=/categories/PHP/ class=category-list-link>PHP</a><span class=category-list-count>1</span></li><li class=category-list-item><a href=/categories/go%E5%9F%BA%E7%A1%80%E5%BA%93/ class=category-list-link>goåŸºç¡€åº“</a><span class=category-list-count>52</span></li><li class=category-list-item><a href=/categories/php7/ class=category-list-link>php7</a><span class=category-list-count>5</span></li><li class=category-list-item><a href=/categories/%E5%86%99%E7%BB%99%E5%A4%A7%E5%BF%99%E4%BA%BA%E7%9C%8B%E7%9A%84NGINX/ class=category-list-link>å†™ç»™å¤§å¿™äººçœ‹çš„NGINX</a><span class=category-list-count>1</span></li><li class=category-list-item><a href=/categories/%E5%86%99%E7%BB%99%E5%A4%A7%E5%BF%99%E4%BA%BA%E7%9C%8B%E7%9A%84%E6%8A%80%E6%9C%AF%E4%B9%A6%E7%B3%BB%E7%B1%BB/ class=category-list-link>å†™ç»™å¤§å¿™äººçœ‹çš„æŠ€æœ¯ä¹¦ç³»ç±»</a><span class=category-list-count>1</span></li><li class=category-list-item><a href=/categories/%E5%89%8D%E7%AB%AF/ class=category-list-link>å‰ç«¯</a><span class=category-list-count>1</span></li><li class=category-list-item><a href=/categories/%E5%8C%BA%E5%9D%97%E9%93%BE/ class=category-list-link>åŒºå—é“¾</a><span class=category-list-count>3</span></li><li class=category-list-item><a href=/categories/%E5%BC%80%E5%8F%91/ class=category-list-link>å¼€å‘</a><span class=category-list-count>17</span></li><li class=category-list-item><a href=/categories/%E5%BE%AE%E6%9C%8D%E5%8A%A1/ class=category-list-link>å¾®æœåŠ¡</a><span class=category-list-count>1</span></li><li class=category-list-item><a href=/categories/%E6%9E%B6%E6%9E%84/ class=category-list-link>æ¶æ„</a><span class=category-list-count>1</span></li></ul></div></div><div class=widget><h3 class=widget-title>æ ‡ç­¾</h3><div class=widget-body><ul class=tag-list><li class=tag-list-item><a href=/tags/Hardhat/ class=tag-list-link>Hardhat</a><span class=tag-list-count>1</span></li><li class=tag-list-item><a href=/tags/JAX/ class=tag-list-link>JAX</a><span class=tag-list-count>1</span></li><li class=tag-list-item><a href=/tags/LLM/ class=tag-list-link>LLM</a><span class=tag-list-count>1</span></li><li class=tag-list-item><a href=/tags/NFT/ class=tag-list-link>NFT</a><span class=tag-list-count>1</span></li><li class=tag-list-item><a href=/tags/Php-Storm/ class=tag-list-link>Php-Storm</a><span class=tag-list-count>1</span></li><li class=tag-list-item><a href=/tags/Predis/ class=tag-list-link>Predis</a><span class=tag-list-count>1</span></li><li class=tag-list-item><a href=/tags/SOL/ class=tag-list-link>SOL</a><span class=tag-list-count>1</span></li><li class=tag-list-item><a href=/tags/Solana/ class=tag-list-link>Solana</a><span class=tag-list-count>1</span></li><li class=tag-list-item><a href=/tags/Solidity/ class=tag-list-link>Solidity</a><span class=tag-list-count>1</span></li><li class=tag-list-item><a href=/tags/ddd/ class=tag-list-link>ddd</a><span class=tag-list-count>1</span></li><li class=tag-list-item><a href=/tags/docker/ class=tag-list-link>docker</a><span class=tag-list-count>4</span></li><li class=tag-list-item><a href=/tags/gemma/ class=tag-list-link>gemma</a><span class=tag-list-count>5</span></li><li class=tag-list-item><a href=/tags/go/ class=tag-list-link>go</a><span class=tag-list-count>57</span></li><li class=tag-list-item><a href=/tags/hexo/ class=tag-list-link>hexo</a><span class=tag-list-count>1</span></li><li class=tag-list-item><a href=/tags/kerasNLP/ class=tag-list-link>kerasNLP</a><span class=tag-list-count>3</span></li><li class=tag-list-item><a href=/tags/laravel/ class=tag-list-link>laravel</a><span class=tag-list-count>1</span></li><li class=tag-list-item><a href=/tags/linux/ class=tag-list-link>linux</a><span class=tag-list-count>1</span></li><li class=tag-list-item><a href=/tags/nginx/ class=tag-list-link>nginx</a><span class=tag-list-count>1</span></li><li class=tag-list-item><a href=/tags/nuxt/ class=tag-list-link>nuxt</a><span class=tag-list-count>1</span></li><li class=tag-list-item><a href=/tags/php/ class=tag-list-link>php</a><span class=tag-list-count>5</span></li><li class=tag-list-item><a href=/tags/redis/ class=tag-list-link>redis</a><span class=tag-list-count>1</span></li><li class=tag-list-item><a href=/tags/rust/ class=tag-list-link>rust</a><span class=tag-list-count>1</span></li><li class=tag-list-item><a href=/tags/swoole/ class=tag-list-link>swoole</a><span class=tag-list-count>1</span></li><li class=tag-list-item><a href=/tags/web3/ class=tag-list-link>web3</a><span class=tag-list-count>1</span></li><li class=tag-list-item><a href=/tags/xdebug/ class=tag-list-link>xdebug</a><span class=tag-list-count>1</span></li><li class=tag-list-item><a href=/tags/%E4%BB%A5%E5%A4%AA%E5%9D%8A/ class=tag-list-link>ä»¥å¤ªåŠ</a><span class=tag-list-count>1</span></li><li class=tag-list-item><a href=/tags/%E6%80%BB%E7%BB%93/ class=tag-list-link>æ€»ç»“</a><span class=tag-list-count>1</span></li><li class=tag-list-item><a href=/tags/%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6/ class=tag-list-link>æ™ºèƒ½åˆçº¦</a><span class=tag-list-count>1</span></li></ul></div></div><div class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç« </h3><div class=widget-body><ul class="recent-post-list list-unstyled no-thumbnail"><li><div class=item-inner><p class=item-title><a href=/2025/01/23/solana-tutorial-1.html class=title>Solana é“¾å¼€å‘å®æˆ˜ï¼ˆä¸€ï¼‰</a></p><p class=item-date><time datetime="2025-01-23 18:08:23 +0000 UTC" itemprop=datePublished>2025-01-23</time></p></div></li><li><div class=item-inner><p class=item-title><a href=/2024/04/20/Gemma-JAX-inference.html class=title>Gemma JAX æ¨ç†</a></p><p class=item-date><time datetime="2024-04-20 23:10:39 +0000 UTC" itemprop=datePublished>2024-04-20</time></p></div></li><li><div class=item-inner><p class=item-title><a href=/2024/03/30/Keras-Gemma-distributed-finetuning-and-inference.html class=title>åœ¨ä½¿ç”¨ Keras è¿›è¡Œ Gemma æ¨¡å‹çš„åˆ†å¸ƒå¼å¾®è°ƒå’Œæ¨ç†</a></p><p class=item-date><time datetime="2024-03-30 22:32:29 +0000 UTC" itemprop=datePublished>2024-03-30</time></p></div></li><li><div class=item-inner><p class=item-title><a href=/2024/03/30/Fine-tune-Gemma-model-in-Keras-using-LoRA.html class=title>åœ¨ Keras ä¸­ä½¿ç”¨ LoRA å¾®è°ƒ Gemma æ¨¡å‹</a></p><p class=item-date><time datetime="2024-03-30 21:42:12 +0000 UTC" itemprop=datePublished>2024-03-30</time></p></div></li><li><div class=item-inner><p class=item-title><a href=/2024/03/30/Get-started-with-Gemma-using-KerasNLP.html class=title>ä½¿ç”¨ KerasNLP å¿«é€Ÿå¼€å§‹ Gemma</a></p><p class=item-date><time datetime="2024-03-30 19:20:02 +0000 UTC" itemprop=datePublished>2024-03-30</time></p></div></li></ul></div></div></div></aside><aside class="sidebar sidebar-toc collapse" id=collapseToc itemscope itemtype=http://schema.org/WPSideBar><div class=slimContent><h4 class=toc-title>æ–‡ç« ç›®å½•</h4><nav id=toc class="js-toc toc"></nav></div></aside><main class=main role=main><div class=content><article id=- class="article article-type-" itemscope itemtype=http://schema.org/BlogPosting><div class=article-header><h1 itemprop=name><a class=article-title href=/2022/03/03/getting-started-with-ethereum-smart-contracts-with-hardhat.html>ä½¿ç”¨ Hardhat å…¥é—¨ä»¥å¤ªåŠæ™ºèƒ½åˆçº¦</a></h1><div class=article-meta><span class=article-date><i class="icon icon-calendar-check"></i>&nbsp;
<a href=/2022/03/03/getting-started-with-ethereum-smart-contracts-with-hardhat.html class=article-date><time datetime="2022-03-03 00:53:25 +0000 UTC" itemprop=datePublished>2022-03-03</time></a></span>
<span class=article-category><i class="icon icon-folder"></i>&nbsp;
<a class=article-category-link href=/categories/%E5%8C%BA%E5%9D%97%E9%93%BE/>åŒºå—é“¾</a></span>
<span class=article-tag><i class="icon icon-tags"></i>&nbsp;
<a class=article-tag-link href=/tags/Hardhat/>Hardhat</a>
<a class=article-tag-link href=/tags/%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6/>æ™ºèƒ½åˆçº¦</a>
<a class=article-tag-link href=/tags/%E4%BB%A5%E5%A4%AA%E5%9D%8A/>ä»¥å¤ªåŠ</a>
<a class=article-tag-link href=/tags/Solidity/>Solidity</a></span>
<span class=post-comment><i class="icon icon-comment"></i>&nbsp;<a href=/2022/03/03/getting-started-with-ethereum-smart-contracts-with-hardhat.html#comments class=article-comment-link>è¯„è®º</a></span>
<span class="post-wordcount hidden-xs" itemprop=wordCount>å­—æ•°ç»Ÿè®¡: 7064å­—</span>
<span class="post-readcount hidden-xs" itemprop=timeRequired>é˜…è¯»æ—¶é•¿: 15åˆ†</span></div></div><div class="article-entry marked-body js-toc-content" itemprop=articleBody><h2 id=0x1-æ¦‚è¿°>0x1 æ¦‚è¿°</h2><p>æˆ‘åœ¨å…¥é—¨ä»¥å¤ªåŠæ™ºèƒ½åˆçº¦å¼€å‘æ—¶ï¼Œé¦–å…ˆæˆ‘å°±é¢ä¸´äº†ä¸€ä¸ªé€‰æ‹©ï¼ŒHardhat Vs Truffle Vs Remixï¼Œæˆ‘åº”è¯¥é€‰æ‹©å“ªä¸ªå¼€å‘å·¥å…·ã€‚æˆ‘å°±åœ¨è°·æ­Œä¸Šæœç´¢å¾ˆå¤šå¯¹æ¯”ï¼Œå…¶ä¸­éœåˆ©ç»´å°”Â·ç“¦å°”è¿ªå…¹ çš„ ã€Š<a href=https://theblockchainguy.dev/hardhat-vs-truffle-vs-remix>Hardhat Vs Truffle Vs Remix - Which Is The Best For Blockchain Development?</a>ã€‹
è¿™ç¯‡æ–‡ç« å¾ˆåŠæ—¶çš„å¸®åŠ©äº†æˆ‘ï¼Œå¹¶ä¸”OpenZeppelinã€Aaveã€BitGoã€1inchç­‰éƒ½åœ¨ä½¿ç”¨è¯¥å¼€å‘å·¥å…·ï¼Œè€Œä¸”æˆ‘åœ¨æ·±å…¥äº†è§£å®˜æ–¹æ–‡æ¡£åå‘ç°æ–‡æ¡£æ•´ä½“å¾ˆæ¸…æ™°å¹¶ä¸”æœ‰æ¡ç†ï¼Œè€Œæˆ‘åˆæœ‰ä¸€å®šçš„å‰ç«¯å¼€å‘ç»éªŒï¼Œæ‰€ä»¥åœ¨å¼€å‘å·¥å…·çš„é€‰å‹ä¸Šæˆ‘é€‰æ‹©äº† Hardhat ã€‚å¦‚æœä½ æ²¡æœ‰å‰ç«¯ç»éªŒï¼Œå¸Œæœ›åœ¨å‰æœŸå­¦ä¹ çš„æ—¶å€™æ›´å…³æ³¨åˆçº¦æœ¬èº«ï¼Œé‚£ä¹ˆæˆ‘ä¼šæ¨è Remix ä½œä¸ºå‰æœŸå­¦ä¹ çš„å¼€å‘å·¥å…·ã€‚
è¿™æ˜¯æˆ‘åŸºäº Hardhat å®˜æ–¹æ•™ç¨‹å†™çš„ç¬¬ä¸€ç¯‡ä»¥å¤ªåŠåˆçº¦å’Œ dApp å¼€å‘æŒ‡å—ï¼Œæœªæ¥æˆ‘ä¹Ÿä¼šæŒç»­åˆ†äº«æ‰€å­¦ã€‚</p><h2 id=0x2-æ­å»ºç¯å¢ƒ>0x2 æ­å»ºç¯å¢ƒ</h2><p>é¦–å…ˆ Hardhat æ˜¯åŸºäº JavaScript ç¼–å†™çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬é¦–å…ˆéœ€è¦å®‰è£… Node.js ç¯å¢ƒã€‚</p><h3 id=å®‰è£…-nodejs>å®‰è£… Node.js</h3><p>å¦‚æœä½ å·²ç»å®‰è£…äº† Node.js ä½ å¯ä»¥è·³è¿‡è¿™ä¸ªéƒ¨åˆ†ã€‚å¦‚æœæ²¡æœ‰ï¼Œæ¥ä¸‹æ¥ä¼šä»‹ç»å¦‚ä½•åœ¨ Ubuntuã€MacOSå’Œ Windows ä¸Šå®‰è£…å®ƒã€‚</p><h4 id=linux>Linux</h4><h5 id=ubuntu>Ubuntu</h5><p>å°†ä»¥ä¸‹å‘½ä»¤å¤åˆ¶ç²˜è´´åˆ°ç»ˆç«¯ï¼š</p><pre><code class=language-bash>sudo apt update
sudo apt install curl git
curl -sL https://deb.nodesource.com/setup_16.x | sudo -E bash -
sudo apt install nodejs
</code></pre><h4 id=macos>MacOS</h4><p>ç¡®ä¿ä½ å·²ç»å®‰è£…äº† git ,å¦‚æœæ²¡æœ‰å®‰è£…å¯ä»¥å‚è€ƒ atlassian å†™çš„ ã€Š<a href=https://www.atlassian.com/git/tutorials/install-git>Install Git</a>ã€‹ã€‚
åœ¨ MacOS ä¸Šå®‰è£… Node.js æœ‰å¤šç§æ–¹æ³•ã€‚æˆ‘é€‰æ‹©äº†ä½¿ç”¨ Node ç‰ˆæœ¬ç®¡ç†å™¨ï¼ˆ<a href=http://github.com/creationix/nvm>nvm</a>ï¼‰ã€‚å°†ä»¥ä¸‹å‘½ä»¤å¤åˆ¶ç²˜è´´åˆ°ç»ˆç«¯ï¼š</p><pre><code class=language-bash>curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.1/install.sh | bash
nvm install --lts
nvm use stable
nvm alias default stable
npm install npm --global # å‡çº§ npm åˆ°æœ€æ–°ç‰ˆæœ¬
</code></pre><h4 id=windows>Windows</h4><p>Windows å¯ä»¥ç›´æ¥åˆ° <a href=https://nodejs.org/en/>Node.js å®˜ç½‘</a>ï¼Œä¸‹è½½å¯¹åº”çš„å®‰è£…åŒ…å³å¯å®Œæˆå®‰è£…ã€‚</p><h2 id=0x3-åˆ›å»ºä¸€ä¸ªæ–°çš„é¡¹ç›®>0x3 åˆ›å»ºä¸€ä¸ªæ–°çš„é¡¹ç›®</h2><p>æˆ‘ä»¬å°†ä½¿ç”¨ npm CLI æ¥å®‰è£… Hardhatã€‚
æ‰“å¼€ç»ˆç«¯å¹¶è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><pre><code class=language-bash>mkdir hardhat-tutorial
cd hardhat-tutorial
npm init --yes
npm install --save-dev hardhat
</code></pre><blockquote><p>å®‰è£… Hardhat çš„è¿‡ç¨‹ä¸­ä¼šå®‰è£… Ethereum JavaScript ä¾èµ–é¡¹ï¼Œæ‰€ä»¥è¯·è€å¿ƒç­‰å¾…ã€‚
åœ¨å®‰è£… Hardhat çš„åŒä¸€ç›®å½•ä¸‹è¿è¡Œï¼š</p></blockquote><pre><code class=language-bash>npx hardhat
</code></pre><p>ä½¿ç”¨é”®ç›˜é€‰æ‹© Create an empty hardhat.config.js å¹¶æŒ‰ä¸‹å›è½¦é”®ã€‚</p><pre><code class=language-bash>$ npx hardhat
888    888                      888 888               888
888    888                      888 888               888
888    888                      888 888               888
8888888888  8888b.  888d888 .d88888 88888b.   8888b.  888888
888    888     &quot;88b 888P&quot;  d88&quot; 888 888 &quot;88b     &quot;88b 888
888    888 .d888888 888    888  888 888  888 .d888888 888
888    888 888  888 888    Y88b 888 888  888 888  888 Y88b.
888    888 &quot;Y888888 888     &quot;Y88888 888  888 &quot;Y888888  &quot;Y888

ğŸ‘· Welcome to Hardhat v2.9.1 ğŸ‘·â€

? What do you want to do? â€¦
  Create a basic sample project
  Create an advanced sample project
  Create an advanced sample project that uses TypeScript
â¯ Create an empty hardhat.config.js
  Quit
</code></pre><p>å½“ Hardhat è¿è¡Œæ—¶ï¼Œå®ƒä¼šä»å½“å‰å·¥ä½œç›®å½•å¼€å§‹æœç´¢æœ€è¿‘çš„ <code>hardhat.config.js</code> æ–‡ä»¶ã€‚è¿™ä¸ªæ–‡ä»¶é€šå¸¸åœ¨ä½ çš„é¡¹ç›®æ ¹ç›®å½•ï¼Œä¸€ä¸ªç©ºçš„ <code>hardhat.config.js</code> å°±è¶³ä»¥è®© Hardhat å·¥ä½œã€‚æœªæ¥æˆ‘ä»¬å¯¹ Hardhat çš„å…¨éƒ¨è®¾ç½®éƒ½ä¼šåœ¨è¿™ä¸ªæ–‡ä»¶ä¸­ã€‚</p><h3 id=hardhat-æ¶æ„>Hardhat æ¶æ„</h3><p>Hardhat åŸºäºä»»åŠ¡å’Œæ’ä»¶çš„ç†å¿µè®¾è®¡ã€‚è€Œ Hardhat çš„å¤§éƒ¨åˆ†åŠŸèƒ½éƒ½æ¥è‡ªæ’ä»¶ï¼Œä½œä¸ºå¼€å‘äººå‘˜ï¼Œ<a href=https://hardhat.org/plugins/>ä½ å¯ä»¥è‡ªç”±é€‰æ‹©</a>è¦ä½¿ç”¨çš„æ’ä»¶ã€‚</p><h4 id=ä»»åŠ¡>ä»»åŠ¡</h4><p>æ¯æ¬¡ä» CLI è¿è¡Œ Hardhat æ—¶ï¼Œä½ éƒ½åœ¨è¿è¡Œä¸€é¡¹ä»»åŠ¡ã€‚ä¾‹å¦‚ <code>npx hardhat compile</code> å‘½ä»¤å°±æ˜¯è¿è¡Œ <code>compile</code> ä»»åŠ¡ã€‚è¦æŸ¥çœ‹é¡¹ç›®å½“å‰å¯ç”¨çš„ä»»åŠ¡ï¼Œåªæ‰§è¡Œ <code>npx hardhat</code>ã€‚ä½ ä¹Ÿå¯ä»¥é€šè¿‡å¸®åŠ©å‘½ä»¤äº†è§£å…¶ä»–ä»»åŠ¡ <code>npx hardhat help [task]</code>ã€‚</p><blockquote><p>å½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥åˆ›å»ºè‡ªå®šä¹‰çš„ä»»åŠ¡ï¼Œå‚è€ƒ<a href=https://hardhat.org/guides/create-task.html>åˆ›å»ºä»»åŠ¡</a>ã€‚</p></blockquote><h4 id=æ’ä»¶>æ’ä»¶</h4><p>åœ¨ä½ æœ€ç»ˆä½¿ç”¨ä»€ä¹ˆå·¥å…·æ–¹é¢ï¼ŒHardhat å¹¶ä¸ä¼šé™åˆ¶ä½ ï¼Œä½†å®ƒç¡®å®å¸¦æœ‰ä¸€äº›å†…ç½®çš„é»˜è®¤è®¾ç½®ã€‚æ‰€æœ‰è¿™äº›ä¹Ÿéƒ½å¯ä»¥è¢«é‡å†™ã€‚
åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ Ethers.js å’Œ Waffle æ’ä»¶ã€‚å®ƒä»¬å°†å…è®¸ä½ ä¸ä»¥å¤ªåŠäº¤äº’å¹¶æµ‹è¯•ä½ çš„åˆçº¦ã€‚ç¨åæˆ‘ä»¬å°†è§£é‡Šå®ƒä»¬æ˜¯å¦‚ä½•ä½¿ç”¨çš„ã€‚è¦å®‰è£…å®ƒä»¬ï¼Œä½ åªéœ€åœ¨é¡¹ç›®ç›®å½•ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><pre><code class=language-bash>npm install --save-dev @nomiclabs/hardhat-ethers ethers @nomiclabs/hardhat-waffle ethereum-waffle chai
</code></pre><p>æˆ‘ä»¬éœ€è¦æ·»åŠ ä»¥ä¸‹ä»£ç </p><pre><code class=language-javascript>require(&quot;@nomiclabs/hardhat-waffle&quot;);
</code></pre><p>åˆ°å¦‚ä¸‹ä½ç½®ï¼Œçœ‹èµ·æ¥ä¼šæ˜¯è¿™æ ·ï¼š</p><pre><code class=language-javascript>require(&quot;@nomiclabs/hardhat-waffle&quot;);

/**
 * @type import('hardhat/config').HardhatUserConfig
 */
module.exports = {
  solidity: &quot;0.7.3&quot;,
};
</code></pre><p>æˆ‘ä»¬åªéœ€è¦å¼•ç”¨ <code>hardhat-waffle</code>ã€‚</p><h2 id=0x4-ç¼–å†™ä¸ç¼–è¯‘åˆçº¦>0x4 ç¼–å†™ä¸ç¼–è¯‘åˆçº¦</h2><p>æˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªç®€å•çš„æ™ºèƒ½åˆçº¦æ¥å®ç°ä»£å¸è½¬ç§»ã€‚ä»£å¸åˆçº¦æœ€å¸¸ç”¨äºäº¤æ¢å’Œå­˜å‚¨ä»·å€¼ã€‚æˆ‘ä»¬ä¸ä¼šåœ¨æœ¬æ–‡ä¸­å±•å¼€è¯¦ç»†è°ˆè€ƒåˆçº¦ä¸­çš„ Solidity ä»£ç ï¼Œä½†æ˜¯æˆ‘ä»¬å®ç°äº†ä¸€äº›ä½ åº”è¯¥ä¹‹å¤§çš„é€»è¾‘ï¼š</p><ul><li>ä»£å¸çš„æ€»ä¾›åº”é‡æ—¶å›ºå®šçš„ï¼Œæ— æ³•è¢«æ”¹å˜</li><li>æ•´ä¸ªä¾›åº”é‡åˆ†é…åˆ°éƒ¨ç½²åˆçº¦çš„åœ°å€</li><li>ä»»ä½•äººéƒ½å¯ä»¥æ”¶åˆ°ä»£å¸</li><li>ä»»ä½•æ‹¥æœ‰è‡³å°‘ä¸€ä¸ªä»£å¸çš„äººéƒ½å¯ä»¥è½¬ç§»ä»£å¸</li><li>ä»£å¸æ˜¯ä¸å¯åˆ†å‰²çš„ã€‚ä½ å¯ä»¥è½¬ç§»1ã€2ã€3æˆ–è€…37ä¸ªä»£å¸ï¼Œä½†ä¸èƒ½è½¬ç§»2.5ä¸ª</li></ul><blockquote><p>ä½ å¯èƒ½å¬è¯´è¿‡ ERC20ï¼Œå®ƒæ˜¯ä»¥å¤ªåŠä¸­çš„ä»£å¸æ ‡å‡†ã€‚DAIã€USDCã€MKRå’ŒZRXç­‰ä»£å¸éµå¾ª ERC20 æ ‡å‡†ï¼Œè¿™ä½¿å¾—å®ƒä»¬éƒ½å¯ä»¥ä¸ä»»ä½•å¯ä»¥å¤„ç† ERC20 ä»£å¸çš„è½¯ä»¶å…¼å®¹ã€‚ä¸ºç®€å•èµ·è§ï¼Œæˆ‘ä»¬è¦æ„å»ºçš„ä»£å¸æ²¡æœ‰éµå¾ª ERC20ã€‚</p></blockquote><h3 id=ç¼–å†™æ™ºèƒ½åˆçº¦>ç¼–å†™æ™ºèƒ½åˆçº¦</h3><p>é¦–å…ˆåˆ›å»ºä¸€ä¸ªåä¸ºæ–°ç›®å½• <code>contracts</code>ï¼Œå¹¶åœ¨è¯¥ç›®å½•ä¸­åˆ›å»ºä¸€ä¸ªåä¸º <code>Token.sol</code>ã€‚
å°†ä¸‹é¢çš„ä»£ç ç²˜è´´åˆ°è¯¥æ–‡ä»¶ä¸­ï¼ŒèŠ±ä¸€ç‚¹æ—¶é—´é˜…è¯»ä»£ç ã€‚å®ƒå¾ˆç®€å•ï¼Œå¹¶ä¸”å……æ»¡äº†è§£é‡Š Solidity åŸºç¡€çŸ¥è¯†çš„å¤‡æ³¨ã€‚</p><blockquote><p>è¦è·å¾—è¯­æ³•é«˜äº®ï¼Œä½ åº”è¯¥åœ¨æ–‡æœ¬ç¼–è¾‘å™¨ä¸­æ·»åŠ  Solidity è¯­è¨€çš„æ”¯æŒã€‚åªéœ€å¯»æ‰¾ Solidity æˆ– Ethereum æ’ä»¶ã€‚æˆ‘ä»¬å»ºè®®ä½¿ç”¨ Visual Studio Code æˆ– Sublime Text 3ã€‚</p></blockquote><pre><code class=language-solidity>// Solidity æ–‡ä»¶ ç¬¬ä¸€è¡Œä»£ç éƒ½ä¼šæ˜¯ pragma
// Solidity ç¼–è¯‘å™¨å°†ä½¿ç”¨å®ƒæ¥éªŒè¯å¯¹åº”çš„ç‰ˆæœ¬
pragma solidity ^0.7.0;


// è¿™æ˜¯æ™ºèƒ½åˆçº¦çš„ä¸»è¦ç»„æˆéƒ¨åˆ†
contract Token {
    // ä¸€äº›å­—ç¬¦ä¸²ç±»å‹å˜é‡æ¥æ ‡è¯†ä»£å¸
    // `public` ä¿®é¥°ç¬¦ä½¿å˜é‡åœ¨åˆçº¦å¤–éƒ¨å¯è¯»
    string public name = &quot;My Hardhat Token&quot;;
    string public symbol = &quot;MHT&quot;;

    // å­˜å‚¨åœ¨æ— ç¬¦å·æ•´å‹å˜é‡ä¸­çš„å›ºå®šæ•°é‡ä»£å¸
    uint256 public totalSupply = 1000000;

    // åœ°å€ç±»å‹å˜é‡ç”¨äºå­˜å‚¨ä»¥å¤ªåŠè´¦æˆ·
    address public owner;

    // `mapping` æ˜¯ä¸€ä¸ªé”®/å€¼æ˜ å°„ã€‚æˆ‘ä»¬åœ¨è¿™é‡Œå­˜å‚¨æ¯ä¸ªå¸æˆ·ä½™é¢
    mapping(address =&gt; uint256) balances;

    /**
     * åˆçº¦åˆå§‹åŒ–
     *
     * `constructor` åªåœ¨åˆçº¦åˆ›å»ºæ—¶æ‰§è¡Œ
     */
    constructor() {
        // totalSupply è¢«åˆ†é…ç»™äº¤æ˜“å‘é€æ–¹ï¼Œå³éƒ¨ç½²åˆçº¦çš„å¸æˆ·
        balances[msg.sender] = totalSupply;
        owner = msg.sender;
    }

    /**
     * ä¼ é€’ä»£å¸çš„å‡½æ•°
     *
     * `external` ä¿®é¥°ç¬¦ä½¿å‡½æ•°åªèƒ½ä»åˆçº¦å¤–éƒ¨è°ƒç”¨
     */
    function transfer(address to, uint256 amount) external {
        // æ£€æŸ¥äº¤æ˜“å‘é€æ–¹æ˜¯å¦æœ‰è¶³å¤Ÿçš„ä»£å¸
        // å¦‚æœ `require` çš„ç¬¬ä¸€ä¸ªå‚æ•°è®¡ç®—ç»“æœä¸º `false``,åˆ™æ•´ä¸ªäº¤æ˜“ä¼šæ¢å¤
        require(balances[msg.sender] &gt;= amount, &quot;Not enough tokens&quot;);

        // è½¬ç§»é‡‘é¢
        balances[msg.sender] -= amount;
        balances[to] += amount;
    }

    /**
     * è¯»å–ç»™å®šå¸æˆ·çš„ä»£å¸ä½™é¢
     *
     * `view` ä¿®é¥°ç¬¦è¡¨ç¤ºå®ƒä¸ä¿®æ”¹åˆçº¦çš„çŠ¶æ€ï¼Œè¿™å…è®¸æˆ‘ä»¬åœ¨ä¸æ‰§è¡Œäº¤æ˜“çš„æƒ…å†µä¸‹è°ƒç”¨å®ƒ
     */
    function balanceOf(address account) external view returns (uint256) {
        return balances[account];
    }
}
</code></pre><blockquote><p><code>*.sol</code> æ˜¯ Solidity çš„æ–‡ä»¶ç±»å‹ã€‚æˆ‘ä»¬å»ºè®®å°†æ–‡ä»¶åä¸å…¶åŒ…å«çš„åˆçº¦ç›¸åŒ¹é…ï¼Œè¿™æ˜¯ä¸€ä¸ªå¸¸è§çš„åšæ³•ã€‚</p></blockquote><h3 id=ç¼–è¯‘åˆåŒ>ç¼–è¯‘åˆåŒ</h3><p>ç¼–è¯‘åˆçº¦ï¼Œåœ¨ä½ çš„ç»ˆç«¯ä¸­æ‰§è¡Œ<code>npx hardhat compile</code>ã€‚è¯¥ <code>compile</code> ä»»åŠ¡æ˜¯å†…ç½®ä»»åŠ¡ä¹‹ä¸€ã€‚</p><pre><code class=language-bash>$ npx hardhat compile
Compiling 1 file with 0.7.3
Compilation finished successfully
</code></pre><p>åˆçº¦å·²ç»ç¼–è¯‘æˆåŠŸï¼Œç°åœ¨ä½ å°±å¯ä»¥ä½¿ç”¨äº†ã€‚</p><h2 id=0x5-æµ‹è¯•åˆçº¦>0x5 æµ‹è¯•åˆçº¦</h2><p>åœ¨æ„å»ºæ™ºèƒ½åˆçº¦æ—¶ç¼–å†™è‡ªåŠ¨åŒ–æµ‹è¯•æ˜¯è‡³å…³é‡è¦çš„ï¼Œå› ä¸ºæˆ‘ä»¬çš„ä»£ç å°†ç›´æ¥æ“ä½œç”¨æˆ·çš„é’±ï¼ä¸ºæ­¤ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ Hardhat ç½‘ç»œï¼Œè¿™æ˜¯ä¸€ä¸ªä¸ºå¼€å‘è€Œè®¾è®¡çš„æœ¬åœ°ä»¥å¤ªåŠç½‘ç»œï¼Œå®ƒå†…ç½®åœ¨ Hardhat å·¥å…·ä¸­ï¼Œå¹¶ä¸”æ˜¯é»˜è®¤ç½‘ç»œã€‚ä½ æ— éœ€è®¾ç½®ä»»ä½•å†…å®¹å³å¯ä½¿ç”¨å®ƒã€‚åœ¨æˆ‘ä»¬çš„æµ‹è¯•ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ ethers.js ä¸æˆ‘ä»¬åœ¨ä¸ŠèŠ‚ä¸­æ„å»ºçš„ä»¥å¤ªåŠåˆçº¦è¿›è¡Œäº¤äº’ï¼Œå¹¶ä¸”ä½¿ç”¨ Mocha ä½œä¸ºæˆ‘ä»¬çš„æµ‹è¯•è¿è¡Œæ—¶ã€‚</p><h3 id=ç¼–å†™æµ‹è¯•>ç¼–å†™æµ‹è¯•</h3><p>åœ¨æˆ‘ä»¬çš„é¡¹ç›®æ ¹ç›®å½•ä¸­åˆ›å»ºåä¸º<code>test</code>çš„ç›®å½•ï¼Œå¹¶åœ¨é‡Œé¢åˆ›å»ºä¸€ä¸ªæ–‡ä»¶åä¸º<code>Token.js</code>çš„æ–‡ä»¶ã€‚
æˆ‘ä»¬ä»ä¸‹é¢çš„ä»£ç å¼€å§‹ã€‚æˆ‘ä»¬å°†åœ¨æ¥ä¸‹æ¥è§£é‡Šå…¶ä¸­çš„å«ä¹‰ï¼Œä½†ç°åœ¨ä½ åªéœ€å°†å…¶ç²˜è´´åˆ° <code>Token.js</code> ä¸­ï¼š</p><pre><code class=language-javascript>const { expect } = require(&quot;chai&quot;);

describe(&quot;Token contract&quot;, function () {
  it(&quot;Deployment should assign the total supply of tokens to the owner&quot;, async function () {
    const [owner] = await ethers.getSigners();

    const Token = await ethers.getContractFactory(&quot;Token&quot;);

    const hardhatToken = await Token.deploy();

    const ownerBalance = await hardhatToken.balanceOf(owner.address);
    expect(await hardhatToken.totalSupply()).to.equal(ownerBalance);
  });
});
</code></pre><p>åœ¨ä½ çš„ç»ˆç«¯ä¸Šè¿è¡Œ <code>npx hardhat test</code>ï¼Œä½ åº”è¯¥çœ‹åˆ°ä»¥ä¸‹è¾“å‡ºï¼š</p><pre><code class=language-bash>npx hardhat test

  Token contract
    âœ“ Deployment should assign the total supply of tokens to the owner (654ms)


  1 passing (663ms)
</code></pre><p>è¿™æ„å‘³ç€æµ‹è¯•é€šè¿‡äº†ã€‚ç°åœ¨è®©æˆ‘ä»¬è§£é‡Šæ¯ä¸€è¡Œï¼š</p><pre><code class=language-javascript>const [owner] = await ethers.getSigners();
</code></pre><p><code>Signer</code> ä»£è¡¨ ethers.js ä¸­ä»¥å¤ªåŠçš„å¯¹è±¡ã€‚ å®ƒç”¨äºå‘åˆçº¦å’Œå…¶ä»–è´¦æˆ·å‘é€äº¤æ˜“ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å¾—åˆ°äº†æ‰€è¿æ¥èŠ‚ç‚¹ä¸­çš„è´¦æˆ·åˆ—è¡¨ï¼Œåœ¨æœ¬ä¾‹ä¸­æ—¶Hardhat ç½‘ç»œï¼Œå¹¶ä¸”åªä¿ç•™ç¬¬ä¸€ä¸ªã€‚</p><p>è¯¥<code>ethers</code>å˜é‡åœ¨å…¨å±€èŒƒå›´å†…å¯ç”¨ã€‚ä½ å¯ä»¥åœ¨é¡¶éƒ¨æ·»åŠ è¿™ä¹ˆä¸€è¡Œï¼š</p><pre><code class=language-javascript>const { ethers } = require(&quot;hardhat&quot;);
</code></pre><blockquote><p>è¦äº†è§£æ›´å¤šå…³äº<code>Singer</code>çš„ä¿¡æ¯ï¼Œä½ å¯ä»¥æŸ¥çœ‹ <a href=https://docs.ethers.io/v5/api/signer/>Signers æ–‡æ¡£</a>ã€‚</p></blockquote><pre><code class=language-javascript>const Token = await ethers.getContractFactory(&quot;Token&quot;);
</code></pre><p>åœ¨ ethers.js ä¸­ï¼Œ<code>ContractFactory</code> æ˜¯ä¸€ä¸ªç”¨äºéƒ¨ç½²æ–°æ™ºèƒ½åˆçº¦çš„æŠ½è±¡ï¼Œæ‰€ä»¥è¿™é‡Œçš„ <code>Token</code>æ˜¯æˆ‘ä»¬çš„ä»£å¸åˆçº¦å·¥å‚çš„å®ä¾‹ã€‚</p><pre><code class=language-javascript>const hardhatToken = await Token.deploy();
</code></pre><p>åœ¨ ContractFactory ä¸Šè°ƒç”¨<code>deploy()</code>å°†å¼€å§‹éƒ¨ç½²ï¼Œå¹¶è¿”å›<code>Contract</code>è§£æåçš„ <code>Promise</code>ã€‚è¿™æ˜¯ä¸ºä½ çš„æ¯ä¸ªæ™ºèƒ½åˆçº¦åŠŸèƒ½æä¾›æ–¹æ³•çš„å¯¹è±¡ã€‚</p><pre><code class=language-javascript>const ownerBalance = await hardhatToken.balanceOf(owner.address);
</code></pre><p>ä¸€æ—¦éƒ¨ç½²äº†åˆçº¦ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨<code>hardhatToken</code>ä¸Šè°ƒç”¨æˆ‘ä»¬çš„åˆçº¦æ–¹æ³•ï¼Œå¹¶é€šè¿‡è°ƒç”¨<code>balanceOf()</code>æ¥è·å–ç›¸åº”æ‰€æœ‰è€…å¸æˆ·çš„ä½™é¢ã€‚</p><p>è¯·è®°ä½ï¼Œè·å¾—æ•´ä¸ªä¾›åº”é‡çš„ä»£å¸æ‰€æœ‰è€…æ˜¯è¿›è¡Œéƒ¨ç½²çš„è´¦æˆ·ï¼Œå½“ä½¿ç”¨<code>hardhat-ethers</code>æ’ä»¶æ—¶ï¼Œ<code>ContractFactory</code>å’Œ<code>Contract</code>å®ä¾‹é»˜è®¤è¿æ¥åˆ°ç¬¬ä¸€ä¸ªç­¾åè€…ã€‚è¿™æ„å‘³ç€<code>owner</code>å˜é‡ä¸­çš„è´¦æˆ·æ‰§è¡Œäº†éƒ¨ç½²ï¼Œè€Œ<code>balanceOf()</code>åº”è¯¥è¿”å›æ•´ä¸ªä¾›åº”é‡ã€‚</p><pre><code class=language-javascript>expect(await hardhatToken.totalSupply()).to.equal(ownerBalance);
</code></pre><p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å†æ¬¡ä½¿ç”¨æˆ‘ä»¬çš„<code>Contract</code>å®ä¾‹æ¥è°ƒç”¨ Solidity ä»£ç ä¸­çš„æ™ºèƒ½åˆçº¦å‡½æ•°ã€‚<code>totalSupply()</code>è¿”å›ä»£å¸çš„ä¾›åº”é‡ï¼Œæˆ‘ä»¬æ£€æŸ¥å®ƒæ˜¯å¦ç­‰äº<code>ownerBalance</code>ï¼Œæ­£å¦‚å®ƒåº”è¯¥åšçš„é‚£æ ·ã€‚</p><p>ä¸ºäº†åšåˆ°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬ä½¿ç”¨äº† <a href=https://www.chaijs.com/>Chai</a>ï¼Œè¿™æ˜¯ä¸€ä¸ªæ–­è¨€åº“ã€‚è¿™äº›æ–­è¨€å‡½æ•°è¢«ç§°ä¸º &ldquo;åŒ¹é…å™¨&rdquo;ï¼Œè€Œæˆ‘ä»¬åœ¨è¿™é‡Œä½¿ç”¨çš„å‡½æ•°å®é™…ä¸Šæ¥è‡ª <a href=https://getwaffle.io/>Waffle</a>ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬è¦ä½¿ç”¨<code>hardhat-waffle</code>æ’ä»¶ï¼Œå®ƒä½¿æˆ‘ä»¬æ›´å®¹æ˜“ä»Ethereum æ–­è¨€å€¼ã€‚è¯·æŸ¥çœ‹ Waffle æ–‡æ¡£ä¸­çš„<a href=https://ethereum-waffle.readthedocs.io/en/latest/matchers.html>è¿™ä¸€èŠ‚</a>ï¼Œäº†è§£æ•´ä¸ªä»¥å¤ªåŠç‰¹å®šåŒ¹é…å™¨çš„åˆ—è¡¨ã€‚</p><h4 id=ä½¿ç”¨å…¶ä»–å¸æˆ·>ä½¿ç”¨å…¶ä»–å¸æˆ·</h4><p>å¦‚æœä½ éœ€è¦ä»é»˜è®¤è´¦æˆ·ï¼ˆæˆ–ethers.jsä¸­çš„<code>Signer</code>ï¼‰ä»¥å¤–çš„è´¦æˆ·å‘é€äº¤æ˜“æ¥æµ‹è¯•ä½ çš„ä»£ç ï¼Œä½ å¯ä»¥ä½¿ç”¨ethers.js <code>Contract</code>ä¸­çš„<code>connect()</code>æ–¹æ³•å°†å…¶è¿æ¥åˆ°ä¸€ä¸ªä¸åŒçš„è´¦æˆ·ã€‚åƒè¿™æ ·ï¼š</p><pre><code class=language-javascript>const { expect } = require(&quot;chai&quot;);

describe(&quot;Transactions&quot;, function() {
  it(&quot;Should transfer tokens between accounts&quot;, async function() {
    const [owner, addr1, addr2] = await ethers.getSigners();

    const Token = await ethers.getContractFactory(&quot;Token&quot;);

    const hardhatToken = await Token.deploy();

    //  ä»æ‰€æœ‰è€…è½¬ç§»50ä¸ªä»£å¸åˆ°addr1
    await hardhatToken.transfer(addr1.address, 50);
    expect(await hardhatToken.balanceOf(addr1.address)).to.equal(50);

    // ä»addr1è½¬ç§»50ä¸ªä»£å¸åˆ°addr2
    await hardhatToken.connect(addr1).transfer(addr2.address, 50);
    expect(await hardhatToken.balanceOf(addr2.address)).to.equal(50);
  });
});
</code></pre><h4 id=å®Œå…¨è¦†ç›–>å®Œå…¨è¦†ç›–</h4><p>ç°åœ¨æˆ‘ä»¬å·²ç»ä»‹ç»äº†æµ‹è¯•åˆçº¦æ‰€éœ€çš„åŸºç¡€çŸ¥è¯†ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªå®Œæ•´çš„ä»£å¸æµ‹è¯•å¥—ä»¶ï¼Œå…¶ä¸­åŒ…å«æœ‰å…³ Mocha ä»¥åŠå¦‚ä½•æ„å»ºæµ‹è¯•çš„å¤§é‡é™„åŠ ä¿¡æ¯ã€‚æˆ‘ä»¬å»ºè®®é€šè¯»ã€‚</p><pre><code class=language-javascript>// æˆ‘ä»¬åœ¨è¿™é‡Œå¯¼å…¥Chaiä»¥ä½¿ç”¨å®ƒçš„æ–­è¨€å‡½æ•°
const { expect } = require(&quot;chai&quot;);

// `describe` æ˜¯ä¸€ä¸ªMochaå‡½æ•°ï¼Œå®ƒå…è®¸æ‚¨ç»„ç»‡æµ‹è¯•
// å®é™…ä¸Šå¹¶ä¸éœ€è¦è¿™æ ·åšï¼Œä½†æ˜¯ç»„ç»‡æµ‹è¯•ä¼šä½¿è°ƒè¯•å˜å¾—æ›´å®¹æ˜“ã€‚æ‰€æœ‰çš„Mochaå‡½æ•°éƒ½å¯ä»¥åœ¨å…¨å±€ä½œç”¨åŸŸä¸­ä½¿ç”¨

// `describe` å‚æ•°ä¸ºä¸€ä¸ªæµ‹è¯•åç§°å’Œä¸€ä¸ªå›è°ƒå‡½æ•°
// å›è°ƒå¿…é¡»å®šä¹‰è¯¥éƒ¨åˆ†çš„æµ‹è¯•ã€‚è¿™ä¸ªå›è°ƒå‡½æ•°ä¸èƒ½æ˜¯ä¸€ä¸ªå¼‚æ­¥å‡½æ•°
describe(&quot;Token contract&quot;, function () {
  // Mocha æœ‰å››ä¸ªå‡½æ•°å¯ä»¥è®©ä½ èƒ½åœ¨æ•´ä¸ªæµ‹è¯•ç”Ÿå‘½å‘¨æœŸä¸­è¿›è¡Œä¸åŒçš„æ“ä½œï¼Œ
  // å®ƒä»¬æ˜¯ï¼š `before`, `beforeEach`, `after`, `afterEach`

  // å®ƒä»¬åœ¨è®¾ç½®æµ‹è¯•ç¯å¢ƒå’Œè¿è¡Œåæ¸…ç†ç¯å¢ƒæ–¹é¢éå¸¸æœ‰ç”¨

  // ä¸€ä¸ªå¸¸è§çš„æ¨¡å¼æ˜¯å£°æ˜ä¸€äº›å˜é‡ï¼Œå¹¶åœ¨ `before` å’Œ `beforeEach` å›è°ƒä¸­åˆ†é…å®ƒä»¬

  let Token;
  let hardhatToken;
  let owner;
  let addr1;
  let addr2;
  let addrs;

  // `beforeEach` å°†åœ¨æ¯æ¬¡æµ‹è¯•ä¹‹å‰è¿è¡Œï¼Œæ¯æ¬¡é‡æ–°éƒ¨ç½²åˆçº¦ã€‚å®ƒæ¥æ”¶å›è°ƒï¼Œå¯ä»¥æ˜¯å¼‚æ­¥çš„
  beforeEach(async function () {
    // åœ¨è¿™é‡Œè·å– ContractFactory å’Œç­¾åè€…
    Token = await ethers.getContractFactory(&quot;Token&quot;);
    [owner, addr1, addr2, ...addrs] = await ethers.getSigners();

    // è¦éƒ¨ç½²æˆ‘ä»¬çš„åˆçº¦ï¼Œåªéœ€è°ƒç”¨ Token.deploy() å¹¶ç­‰å¾…å®ƒè¢« deployed()ï¼Œä¸€æ—¦å®ƒçš„äº¤æ˜“è¢«æŒ–æ˜ï¼Œå°±ä¼šå‘ç”Ÿéƒ¨ç½²
    hardhatToken = await Token.deploy();
  });

  // ä½ å¯ä»¥åµŒå¥— describe è°ƒç”¨æ¥åˆ›å»ºå°ç»“
  describe(&quot;Deployment&quot;, function () {
    // `it` æ˜¯ MoCha å‡½æ•°ï¼Œè¿™æ˜¯ç”¨æ¥å®šä¹‰æµ‹è¯•çš„å·¥å…·ã€‚å®ƒæ¥æ”¶æµ‹è¯•åå’Œå›è°ƒå‡½æ•°

    // å¦‚æœå›è°ƒå‡½æ•°æ˜¯ä¸€æ­¥çš„ï¼ŒMocha å°† `await`
    it(&quot;Should set the right owner&quot;, async function () {
      // Expect æ¥æ”¶ä¸€ä¸ªå€¼ï¼Œå¹¶å°†å…¶åŒ…è£…åœ¨Assertionå¯¹è±¡ä¸­ã€‚è¿™äº›å¯¹è±¡æœ‰å¾ˆå¤šå®ç”¨æ–¹æ³•æ¥æ–­è¨€å€¼

      // è¿™ä¸ªæµ‹è¯•æœŸæœ›å­˜å‚¨åœ¨åˆçº¦ä¸­çš„æ‰€æœ‰è€…å˜é‡ç­‰äºæˆ‘ä»¬éƒ¨ç½²åˆçº¦æ—¶å€™çš„æ‰€æœ‰è€…
      expect(await hardhatToken.owner()).to.equal(owner.address);
    });

    it(&quot;Should assign the total supply of tokens to the owner&quot;, async function () {
      const ownerBalance = await hardhatToken.balanceOf(owner.address);
      expect(await hardhatToken.totalSupply()).to.equal(ownerBalance);
    });
  });

  describe(&quot;Transactions&quot;, function () {
    it(&quot;Should transfer tokens between accounts&quot;, async function () {
      // å°†50ä¸ªä»£å¸ä»æ‰€æœ‰è€…è½¬ç§»åˆ° addr1
      await hardhatToken.transfer(addr1.address, 50);
      const addr1Balance = await hardhatToken.balanceOf(addr1.address);
      expect(addr1Balance).to.equal(50);

      // å°†50ä¸ªä»£å¸ä» addr1 è½¬ç§»åˆ° addr2
      // æˆ‘ä»¬ä½¿ç”¨.connect(ç­¾åè€…)ä»å¦ä¸€ä¸ªå¸æˆ·å‘é€äº¤æ˜“
      await hardhatToken.connect(addr1).transfer(addr2.address, 50);
      const addr2Balance = await hardhatToken.balanceOf(addr2.address);
      expect(addr2Balance).to.equal(50);
    });

    it(&quot;Should fail if sender doesnâ€™t have enough tokens&quot;, async function () {
      const initialOwnerBalance = await hardhatToken.balanceOf(owner.address);

      // å°è¯•ä» addr1 (0 ä»£å¸)å‘é€1ä¸ªä»£è¡¨ç»™æ‰€æœ‰è€…(1000000 ä»£å¸)ã€‚
      // `require`å°†è®¡ç®—ä¸º false å¹¶æ¢å¤äº¤æ˜“
      await expect(
        hardhatToken.connect(addr1).transfer(owner.address, 1)
      ).to.be.revertedWith(&quot;Not enough tokens&quot;);

      // æ‰€æœ‰è€…ä½™é¢ä¸åº”è¯¥æ”¹å˜
      expect(await hardhatToken.balanceOf(owner.address)).to.equal(
        initialOwnerBalance
      );
    });

    it(&quot;Should update balances after transfers&quot;, async function () {
      const initialOwnerBalance = await hardhatToken.balanceOf(owner.address);

      // å°†100ä¸ªä»£å¸ä»æ‰€æœ‰è€…è½¬ç§»åˆ° addr1
      await hardhatToken.transfer(addr1.address, 100);

      // å°†å¦å¤–50ä¸ªä»£å¸ä»æ‰€æœ‰è€…è½¬ç§»åˆ°addr2
      await hardhatToken.transfer(addr2.address, 50);

      // æ£€æŸ¥ä½™é¢
      const finalOwnerBalance = await hardhatToken.balanceOf(owner.address);
      expect(finalOwnerBalance).to.equal(initialOwnerBalance.sub(150));

      const addr1Balance = await hardhatToken.balanceOf(addr1.address);
      expect(addr1Balance).to.equal(100);

      const addr2Balance = await hardhatToken.balanceOf(addr2.address);
      expect(addr2Balance).to.equal(50);
    });
  });
});
</code></pre><p>è¿™å°±æ˜¯<code>npx hardhat test</code>å®Œæ•´æµ‹è¯•å¥—ä»¶çš„è¾“å‡ºï¼Œæ˜¯è¿™æ ·çš„ï¼š</p><pre><code class=language-bash>$ npx hardhat test

  Token contract
    Deployment
      âœ“ Should set the right owner
      âœ“ Should assign the total supply of tokens to the owner
    Transactions
      âœ“ Should transfer tokens between accounts (199ms)
      âœ“ Should fail if sender doesnâ€™t have enough tokens
      âœ“ Should update balances after transfers (111ms)


  5 passing (1s)
</code></pre><p>è¯·è®°ä½ï¼Œå½“ä½ è¿è¡Œ<code>npx hardhat test</code>æ—¶ï¼Œå¦‚æœä½ çš„åˆçº¦è‡ªä¸Šæ¬¡è¿è¡Œæµ‹è¯•ä»¥æ¥å‘ç”Ÿæ›´æ”¹ï¼Œåˆ™å°†ç¼–è¯‘å®ƒä»¬ã€‚</p><h2 id=0x6-ä½¿ç”¨-hardhat-ç½‘ç»œè¿›è¡Œè°ƒè¯•>0x6 ä½¿ç”¨ Hardhat ç½‘ç»œè¿›è¡Œè°ƒè¯•</h2><p>Hardhat å†…ç½®äº†Hardhat ç½‘ç»œï¼Œè¿™æ˜¯ä¸€ä¸ªä¸“ä¸ºå¼€å‘è€Œè®¾è®¡çš„æœ¬åœ°ä»¥å¤ªåŠç½‘ç»œã€‚å®ƒå…è®¸ä½ éƒ¨ç½²åˆçº¦ã€è¿è¡Œæµ‹è¯•å’Œè°ƒè¯•ä»£ç ã€‚è¿™æ˜¯ Hardhat è¿æ¥çš„é»˜è®¤ç½‘ç»œï¼Œå› æ­¤ä½ æ— éœ€è¿›è¡Œä»»ä½•è®¾ç½®å³å¯ä½¿å…¶æ­£å¸¸å·¥ä½œã€‚åªéœ€è¿è¡Œä½ çš„æµ‹è¯•ã€‚</p><h3 id=solidity-consolelog>Solidity <code>console.log</code></h3><p>åœ¨ Hardhat ç½‘ç»œä¸Šè¿è¡Œåˆçº¦å’Œæµ‹è¯•æ—¶ï¼Œä½ å¯ä»¥åœ¨ Solidity ä»£ç ä¸­ä½¿ç”¨<code>console.log()</code>æ¥æ‰“å°æ—¥å¿—æ¶ˆæ¯ä¸åˆçº¦å˜é‡ã€‚è¦ä½¿ç”¨å®ƒï¼Œä½ å¿…é¡»åœ¨ä½ çš„åˆçº¦ä»£ç ä¸­å¯¼å…¥ <code>hardhat/console.sol</code>ã€‚</p><pre><code class=language-solidity>pragma solidity ^0.8.0;

import &quot;hardhat/console.sol&quot;;

contract Token {
  //...
}
</code></pre><p>åƒåœ¨ JavaScript ä¸­ä½¿ç”¨<code>console.log</code>é‚£æ ·åœ¨<code>transfer()</code>å‡½æ•°æ·»åŠ ä¸€äº›å†…å®¹ï¼š</p><pre><code class=language-solidity>function transfer(address to, uint256 amount) external {
    console.log(&quot;Sender balance is %s tokens&quot;, balances[msg.sender]);
    console.log(&quot;Trying to send %s tokens to %s&quot;, amount, to);

    require(balances[msg.sender] &gt;= amount, &quot;Not enough tokens&quot;);

    balances[msg.sender] -= amount;
    balances[to] += amount;
}
</code></pre><p>è¿è¡Œæµ‹è¯•æ—¶å°†æ˜¾ç¤ºæ—¥å¿—è¾“å‡ºï¼š</p><pre><code class=language-bash>$ npx hardhat test

  Token contract
    Deployment
      âœ“ Should set the right owner
      âœ“ Should assign the total supply of tokens to the owner
    Transactions
Sender balance is 1000 tokens
Trying to send 50 tokens to 0xead9c93b79ae7c1591b1fb5323bd777e86e150d4
Sender balance is 50 tokens
Trying to send 50 tokens to 0xe5904695748fe4a84b40b3fc79de2277660bd1d3
      âœ“ Should transfer tokens between accounts (373ms)
      âœ“ Should fail if sender doesnâ€™t have enough tokens
Sender balance is 1000 tokens
Trying to send 100 tokens to 0xead9c93b79ae7c1591b1fb5323bd777e86e150d4
Sender balance is 900 tokens
Trying to send 100 tokens to 0xe5904695748fe4a84b40b3fc79de2277660bd1d3
      âœ“ Should update balances after transfers (187ms)


  5 passing (2s)
</code></pre><p>æŸ¥çœ‹<a href=https://hardhat.org/hardhat-network/#console-log>æ–‡æ¡£</a>ä»¥äº†è§£æœ‰å…³æ­¤åŠŸèƒ½çš„æ›´å¤šä¿¡æ¯ã€‚</p><h2 id=0x7-éƒ¨ç½²åˆ°çœŸå®ç½‘ç»œ>0x7 éƒ¨ç½²åˆ°çœŸå®ç½‘ç»œ</h2><p>ä¸€æ—¦ä½ å‡†å¤‡å¥½ä¸å…¶ä»–äººåˆ†äº«ä½ çš„ dAppï¼Œä½ å¯èƒ½æƒ³è¦åšçš„å°±æ˜¯éƒ¨ç½²åˆ°çœŸå®çš„ç½‘ç»œã€‚è¿™æ ·ï¼Œå…¶ä»–äººå°±å¯ä»¥è®¿é—®ä½ çš„ dAppäº†ã€‚</p><p>æ¶‰åŠçœŸé’±äº¤æ˜“çš„ä»¥å¤ªåŠç½‘ç»œï¼Œè¢«ç§°ä¸ºâ€œmainnetâ€ï¼Œç„¶è€Œè¿˜æœ‰å…¶ä»–ä¸ä¸çœŸé’±äº¤æ˜“çš„ç½‘ç»œï¼Œä½†å´èƒ½å¾ˆå¥½çš„æ¨¡æ‹Ÿç°å®ä¸–ç•Œçš„åœºæ™¯ï¼Œä¹Ÿå¯ä»¥è¢«å…¶ä»–äººè®¿é—®çš„ç½‘ç»œç§°ä¸ºâ€œtestnetsâ€ã€‚ä»¥å¤ªåŠæœ‰å¤šä¸ªæµ‹è¯•ç½‘:Ropstenã€Kovanã€Rinkebyå’ŒGoerliã€‚æˆ‘ä»¬å»ºè®®å°†åˆçº¦éƒ¨ç½²åˆ° Ropsten æµ‹è¯•ç½‘ã€‚</p><p>åœ¨è½¯ä»¶å±‚é¢ï¼Œéƒ¨ç½²åˆ°æµ‹è¯•ç½‘ä¸éƒ¨ç½²åˆ°ä¸»ç½‘æ˜¯ä¸€æ ·çš„ã€‚å”¯ä¸€çš„åŒºåˆ«æ˜¯ä½ è¿æ¥åˆ°å“ªä¸ªç½‘ç»œã€‚è®©æˆ‘ä»¬çœ‹çœ‹ä½¿ç”¨ether.jséƒ¨ç½²åˆçº¦çš„ä»£ç æ˜¯ä»€ä¹ˆæ ·å­çš„ã€‚</p><p>ä½¿ç”¨çš„ä¸»è¦æ¦‚å¿µæ˜¯<code>Signer</code>ã€<code>ContractFactory</code>å’Œ<code>Contract</code>ï¼Œæˆ‘ä»¬åœ¨æµ‹è¯•éƒ¨åˆ†ä¸­è§£é‡Šè¿‡ã€‚ä¸æµ‹è¯•ç›¸æ¯”ï¼Œæ²¡æœ‰ä»€ä¹ˆæ–°äº‹æƒ…éœ€è¦åšï¼Œå› ä¸ºå½“åœ¨æµ‹è¯•åˆçº¦æ—¶ï¼Œå®é™…ä¸Šæ˜¯åœ¨å‘ä½ çš„å¼€å‘ç½‘ç»œè¿›è¡Œéƒ¨ç½²ã€‚è¿™ä½¿å¾—ä»£ç éå¸¸ç›¸ä¼¼ã€‚</p><p>è®©æˆ‘ä»¬åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„ç›®å½• <code>scripts</code>ï¼Œå¹¶å°†ä»¥ä¸‹å†…å®¹ç²˜è´´åˆ°<code>deploy.js</code>æ–‡ä»¶ä¸­ï¼š</p><pre><code class=language-javascript>async function main() {
  const [deployer] = await ethers.getSigners();

  console.log(&quot;Deploying contracts with the account:&quot;, deployer.address);

  console.log(&quot;Account balance:&quot;, (await deployer.getBalance()).toString());

  const Token = await ethers.getContractFactory(&quot;Token&quot;);
  const token = await Token.deploy();

  console.log(&quot;Token address:&quot;, token.address);
}

main()
  .then(() =&gt; process.exit(0))
  .catch((error) =&gt; {
    console.error(error);
    process.exit(1);
</code></pre><p>è¦åœ¨è¿è¡Œä»»ä½•ä»»åŠ¡æ—¶æŒ‡å®š Hardhat è¿æ¥åˆ°ç‰¹å®šçš„ä»¥å¤ªåŠç½‘ç»œï¼Œå¯ä»¥ä½¿ç”¨<code>--network</code>å‚æ•°ã€‚åƒè¿™æ ·ï¼š</p><pre><code class=language-bash>npx hardhat run scripts/deploy.js --network &lt;network-name&gt;
</code></pre><p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä¸å¸¦<code>--network</code>å‚æ•°è¿è¡Œå®ƒä¼šä½¿ä»£ç é’ˆåœ¨Hardhat ç½‘ç»œçš„åµŒå…¥å¼å®ä¾‹è¿è¡Œï¼Œå› æ­¤å½“ Hardhat å®Œæˆè¿è¡Œæ—¶ï¼Œéƒ¨ç½²å®é™…ä¸Šä¼šä¸¢å¤±ï¼Œä½†æµ‹è¯•æˆ‘ä»¬çš„éƒ¨ç½²ä»£ç æ˜¯å¦æœ‰æ•ˆä»ç„¶å¾ˆæœ‰ç”¨ï¼š</p><pre><code class=language-bash>$ npx hardhat run scripts/deploy.js
Deploying contracts with the account: 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266
Account balance: 10000000000000000000000
Token address: 0x5FbDB2315678afecb367f032d93F642f64180aa3
</code></pre><h3 id=éƒ¨ç½²åˆ°è¿œç¨‹ç½‘ç»œ>éƒ¨ç½²åˆ°è¿œç¨‹ç½‘ç»œ</h3><p>è¦éƒ¨ç½²åˆ°è¿œç¨‹ç½‘ç»œï¼ˆä¾‹å¦‚ä¸»ç½‘æˆ–ä»»ä½•æµ‹è¯•ç½‘ï¼‰ï¼Œä½ éœ€è¦åœ¨<code>hardhat.config.js</code>æ–‡ä»¶ä¸­æ·»åŠ ä¸€ä¸ª<code>network</code>æ¡ç›®ã€‚æˆ‘ä»¬å°†åœ¨æ­¤ç¤ºä¾‹ä¸­ä½¿ç”¨ Ropstenï¼Œä½†ä½ ä¹Ÿå¯ä»¥ä»¥ç±»ä¼¼åœ°æ–¹å¼æ·»åŠ ä»»ä½•ç½‘ç»œï¼š</p><pre><code class=language-javascript>require(&quot;@nomiclabs/hardhat-waffle&quot;);

// ç™»å½•https://www.alchemyapi.ioï¼Œæ³¨å†Œï¼Œ
// åœ¨å…¶ä»ªè¡¨æ¿ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„åº”ç”¨ç¨‹åºï¼Œå¹¶å°†â€œKEYâ€æ›¿æ¢ä¸ºå…¶å¯†é’¥
const ALCHEMY_API_KEY = &quot;KEY&quot;;

// ä» Metamask å¯¼å‡ºä½ çš„ç§é’¥ï¼Œæ‰“å¼€Metamaskï¼Œå¹¶è¿›å…¥å¸æˆ·è¯¦ç»†ä¿¡æ¯&gt;å¯¼å‡ºç§é’¥
// åƒä¸‡æ³¨æ„ï¼Œæ°¸è¿œä¸è¦æŠŠçœŸå®çš„Etherè½¬åˆ°æµ‹è¯•å¸æˆ·
const ROPSTEN_PRIVATE_KEY = &quot;YOUR ROPSTEN PRIVATE KEY&quot;;

module.exports = {
  solidity: &quot;0.7.3&quot;,
  networks: {
    ropsten: {
      url: `https://eth-ropsten.alchemyapi.io/v2/${ALCHEMY_API_KEY}`,
      accounts: [`${ROPSTEN_PRIVATE_KEY}`]
    }
  }
};
</code></pre><p>æˆ‘ä»¬æ­£åœ¨ä½¿ç”¨<a href=https://www.alchemyapi.io/>Alchemy</a>ï¼Œä½†æŒ‡å‘ä»»ä½•ä»¥å¤ªåŠèŠ‚ç‚¹æˆ–ç½‘å…³çš„<code>url</code>éƒ½å¯ä»¥å·¥ä½œã€‚</p><p>è¦éƒ¨ç½²åœ¨Ropstenç½‘ç»œä¸Šï¼Œä½ éœ€è¦å°†Ropsten-ETHå‘é€åˆ°å°†è¦è¿›è¡Œéƒ¨ç½²çš„åœ°å€ã€‚ä½ å¯ä»¥ä»æµ‹è¯•ç½‘çš„æ°´é¾™å¤´ä¸Šå¾—åˆ°ä¸€äº›ETHï¼Œè¿™æ˜¯ä¸€ç§å…è´¹åˆ†å‘æµ‹è¯•ETHçš„æœåŠ¡ã€‚<a href=https://faucet.metamask.io/>è¿™æ˜¯Ropstençš„ä¸€ä¸ªæ°´é¾™å¤´</a>ï¼Œä½ å¿…é¡»åœ¨äº¤æ˜“ä¹‹å‰å°†Metamaskçš„ç½‘ç»œæ›´æ”¹ä¸ºRopstenã€‚
æœ€åï¼Œè¿è¡Œï¼š</p><pre><code class=language-bash>npx hardhat run scripts/deploy.js --network ropsten
</code></pre><p>å¦‚æœä¸€åˆ‡é¡ºåˆ©ï¼Œä½ åº”è¯¥ä¼šçœ‹åˆ°å·²éƒ¨ç½²çš„åˆçº¦åœ°å€ã€‚</p><h2 id=0x8-æ¨¡ç‰ˆé¡¹ç›®>0x8 æ¨¡ç‰ˆé¡¹ç›®</h2><p>å¦‚æœä½ æƒ³å¿«é€Ÿå¼€å§‹ä½¿ç”¨ä½ çš„dAppï¼Œäº¦æˆ–è€…æƒ³é€šè¿‡å‰ç«¯æŸ¥çœ‹æ•´ä¸ªé¡¹ç›®ï¼Œä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹demoé¡¹ç›®åº“ã€‚
<a href=https://github.com/nomiclabs/hardhat-hackathon-boilerplate>https://github.com/nomiclabs/hardhat-hackathon-boilerplate</a></p><h3 id=åŒ…æ‹¬äº›ä»€ä¹ˆ>åŒ…æ‹¬äº›ä»€ä¹ˆ</h3><ul><li>æˆ‘ä»¬åœ¨æœ¬æ•™ç¨‹ä¸­ä½¿ç”¨çš„ Solidity åˆçº¦</li><li>ä½¿ç”¨ ethers.js å’Œ Waffle çš„æµ‹è¯•å¥—ä»¶</li><li>ä½¿ç”¨ ethers.js ä¸åˆçº¦äº¤äº’çš„æœ€å°å‰ç«¯</li></ul><h3 id=solidity-åˆçº¦å’Œæµ‹è¯•>Solidity åˆçº¦å’Œæµ‹è¯•</h3><p>åœ¨ repo çš„æ ¹ç›®å½•ä¸­ï¼Œæ‚¨ä¼šæ‰¾åˆ°æˆ‘ä»¬é€šè¿‡æœ¬æ•™ç¨‹ä¸åˆçº¦ä¸€èµ·æ„å»ºçš„Hardhaté¡¹ç›®ã€‚<code>Token</code>åˆ·æ–°ä½ å¯¹å®ƒå®ç°çš„è®°å¿†ï¼š</p><ul><li>ä»£å¸çš„æ€»ä¾›åº”é‡æ˜¯å›ºå®šçš„ï¼Œæ— æ³•æ›´æ”¹</li><li>æ•´ä¸ªä¾›åº”åˆ†é…åˆ°éƒ¨ç½²åˆçº¦çš„åœ°å€</li><li>ä»»ä½•äººéƒ½å¯ä»¥æ”¶åˆ°ä»£å¸</li><li>ä»»ä½•æ‹¥æœ‰è‡³å°‘ä¸€ä¸ªä»£å¸çš„äººéƒ½å¯ä»¥è½¬ç§»ä»£å¸</li><li>ä»£å¸æ˜¯ä¸å¯åˆ†å‰²çš„ã€‚ä½ å¯ä»¥è½¬ç§» 1ã€2ã€3 æˆ– 37 ä¸ªä»£å¸ï¼Œä½†ä¸èƒ½è½¬ç§» 2.5 ä¸ª</li></ul><h3 id=å‰ç«¯åº”ç”¨>å‰ç«¯åº”ç”¨</h3><p>ä½ ä¼šå‘ç°ä¸€ä¸ªç®€å•çš„åº”ç”¨ç¨‹åºï¼Œ<code>frontend</code>å®ƒå…è®¸ç”¨æˆ·åšä¸¤ä»¶äº‹ï¼š</p><ul><li>æ£€æŸ¥å·²è¿æ¥é’±åŒ…çš„ä½™é¢</li><li>å°†ä»£å¸å‘é€åˆ°åœ°å€
è¿™æ˜¯ä¸€ä¸ªå•ç‹¬çš„ npm é¡¹ç›®ï¼Œå®ƒæ˜¯ä½¿ç”¨<code>create-react-app</code>åˆ›å»ºçš„ï¼Œæ‰€ä»¥è¿™æ„å‘³ç€å®ƒä½¿ç”¨äº† <code>webpack</code> å’Œ <code>babel</code>ã€‚</li></ul><h3 id=å‰ç«¯æ–‡ä»¶æ¶æ„>å‰ç«¯æ–‡ä»¶æ¶æ„</h3><ul><li>`src/``åŒ…å«æ‰€æœ‰ä»£ç <ul><li><code>src/components</code>åŒ…å«ååº”ç»„ä»¶<ul><li><code>Dapp.js</code>æ˜¯å”¯ä¸€å…·æœ‰ä¸šåŠ¡é€»è¾‘çš„æ–‡ä»¶ã€‚å¦‚æœä½ å°†å…¶ç”¨ä½œæ¨¡ç‰ˆï¼Œä½ å¯ä»¥åœ¨æ­¤å¤„ç”¨ä½ è‡ªå·±çš„ä»£ç æ›¿æ¢</li><li>å…¶ä»–æ‰€æœ‰ç»„ä»¶éƒ½åªå‘ˆç° HTMLï¼Œæ²¡æœ‰é€»è¾‘ã€‚</li><li><code>src/contracts</code>æœ‰åˆçº¦çš„ ABI å’Œåœ°å€ï¼Œè¿™äº›æ˜¯ç”±éƒ¨ç½²è„šæœ¬è‡ªåŠ¨ç”Ÿæˆçš„</li></ul></li></ul></li></ul><h3 id=å¦‚ä½•ä½¿ç”¨å®ƒ>å¦‚ä½•ä½¿ç”¨å®ƒ</h3><p>é¦–å…ˆå…‹éš†è¯¥åº“ï¼Œç„¶åéƒ¨ç½²åˆçº¦ï¼š</p><pre><code class=language-bash>cd hardhat-hackathon-boilerplate
npm install
npx hardhat node
</code></pre><p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬åªå®‰è£… npm é¡¹ç›®çš„ä¾èµ–é¡¹ï¼Œå¹¶é€šè¿‡è¿è¡Œ<code>npx hardhat node</code>å¯åŠ¨ä¸€ä¸ªHardhat ç½‘ç»œå®ä¾‹ï¼Œä½ å¯ä»¥ä½¿ç”¨ MetaMask è¿æ¥åˆ°è¯¥å®ä¾‹ã€‚åœ¨åŒä¸€ç›®å½•ä¸­çš„ä¸åŒç»ˆç«¯ä¸­ï¼Œè¿è¡Œï¼š</p><pre><code class=language-bash>npx hardhat --network localhost run scripts/deploy.js
</code></pre><p>è¿™ä¼šå°†åˆçº¦éƒ¨ç½²åˆ°Hardhatç½‘ç»œã€‚å®Œæˆåè¿è¡Œï¼š</p><pre><code class=language-bash>cd frontend
npm install
npm run start
</code></pre><p>å¯åŠ¨react web appã€‚æ‰“å¼€http://localhost:3000/ ï¼Œä½ åº”è¯¥ä¼šçœ‹åˆ°ï¼š
<img src=https://static.ganymedenil.com/2022/03/06/bv2ott76n8m1lrfgwjeersg1koke194d.jpg alt></p><p>åœ¨ MetaMask ä¸­å°†ä½ çš„ç½‘ç»œè®¾ç½®ä¸º<code>localhost:8545</code>ã€‚ ç„¶åå¯èƒ½è¿˜éœ€è¦é…ç½® MetaMask ä»¥ä¸ Hardhat é…åˆä½¿ç”¨ã€‚ä¸ºæ­¤ï¼Œè¯·è½¬åˆ°<code>Settings -> Networks -> Localhost 8545</code>å¹¶å°†é“¾ ID æ›´æ”¹ä¸º 31337ã€‚</p><p>ç°åœ¨å•å‡» Web åº”ç”¨ç¨‹åºä¸­çš„æŒ‰é’®ã€‚ç„¶åä½ åº”è¯¥çœ‹åˆ°è¿™ä¸ªï¼š
<img src=https://static.ganymedenil.com/2022/03/06/oycj93zk7upuqkr03m3gb5wkxhys4he7.jpg alt></p><p>è¿™é‡Œå‘ç”Ÿçš„æƒ…å†µæ˜¯æ˜¾ç¤ºå½“å‰é’±åŒ…ä½™é¢çš„å‰ç«¯ä»£ç æ£€æµ‹åˆ°ä½™é¢ä¸º0ï¼Œå› æ­¤ä½ å°†æ— æ³•å°è¯•è½¬è´¦åŠŸèƒ½ã€‚é€šè¿‡è¿è¡Œï¼š</p><pre><code class=language-bash>npx hardhat --network localhost faucet &lt;your address&gt;
</code></pre><p>è¿™å°†è¿è¡Œæˆ‘ä»¬åŒ…å«åœ¨Hardhatä¸­çš„è‡ªå®šä¹‰ä»»åŠ¡ï¼Œè¯¥ä»»åŠ¡ä½¿ç”¨éƒ¨ç½²å¸æˆ·çš„ä½™é¢å‘ä½ çš„åœ°å€å‘é€ 100 MBT å’Œ 1 ETHã€‚è¿™å°†å…è®¸ä½ å°†ä»£å¸å‘é€åˆ°å¦ä¸€ä¸ªåœ°å€ã€‚
ä½ å¯ä»¥æŸ¥çœ‹<code>/tasks/faucet.js</code>ä¸­çš„ä»»åŠ¡ä»£ç ã€‚</p><pre><code class=language-bash>$ npx hardhat --network localhost faucet 0x0987a41e73e69f60c5071ce3c8f7e730f9a60f90
Transferred 1 ETH and 100 tokens to 0x0987a41e73e69f60c5071ce3c8f7e730f9a60f90
</code></pre><p>åœ¨ä½ è¿è¡Œ<code>npx hardhat node</code>çš„ç»ˆç«¯ä¸­ï¼Œä½ ä¹Ÿåº”è¯¥çœ‹åˆ°:</p><pre><code class=language-bash>eth_sendTransaction
  Contract call:       Token#transfer
  Transaction:         0x460526d98b86f7886cd0f218d6618c96d27de7c745462ff8141973253e89b7d4
  From:                0xc783df8a850f42e7f7e57013759c285caa701eb6
  To:                  0x7c2c195cd6d34b8f845992d380aadb2730bb9c6f
  Value:               0 ETH
  Gas used:            37098 of 185490
  Block #8:            0x6b6cd29029b31f30158bfbd12faf2c4ac4263068fd12b6130f5655e70d1bc257

  console.log:
    Transferring from 0xc783df8a850f42e7f7e57013759c285caa701eb6 to 0x0987a41e73e69f60c5071ce3c8f7e730f9a60f90 100 tokens
</code></pre><p>åœ¨æˆ‘ä»¬çš„åˆçº¦ä¸­æ˜¾ç¤º<code>transfer()</code>å‡½æ•°çš„<code>console.log</code>è¾“å‡ºï¼Œè¿™æ˜¯è¿è¡Œæ°´é¾™å¤´ä»»åŠ¡åwebåº”ç”¨ç¨‹åºçš„æ ·å­:
<img src=https://static.ganymedenil.com/2022/03/06/58froxay9dz5lbysmno2ibxyi6hwo370.jpg alt></p><p>è¯•ç€è°ƒè¯•å®ƒå¹¶é˜…è¯»ä»£ç ã€‚å®ƒå……æ»¡äº†æ³¨é‡Šï¼Œè§£é‡Šæ­£åœ¨å‘ç”Ÿçš„äº‹æƒ…ï¼Œå¹¶æ¸…æ¥šåœ°è¡¨æ˜å“ªäº›ä»£ç æ˜¯ä»¥å¤ªåŠæ¨¡ç‰ˆä»£ç ï¼Œå“ªäº›å®é™…ä¸Šæ˜¯dAppé€»è¾‘ã€‚è¿™å°†ä½¿è¯¥é¡¹ç›®æ˜“äºä¸ºä½ çš„é¡¹ç›®é‡ç”¨ã€‚</p><h2 id=0x9-ç»“æŸè¯­>0x9 ç»“æŸè¯­</h2><p>æ­å–œä½ å®Œæˆäº†æœ¬æ•™ç¨‹ï¼
ä»¥ä¸‹æ˜¯ä¸€äº›è¡¥å……é“¾æ¥ï¼Œè®©ä½ æ›´æ·±å…¥äº†è§£ï¼š</p><ul><li><a href=https://github.com/nomiclabs/hardhat-hackathon-boilerplate>Hardhat&rsquo;s Hackathon Boilerplate</a></li><li><a href=https://hardhat.org/getting-started/>Hardhat&rsquo;s documentation site</a></li><li><a href=https://hardhat.org/discord>Hardhat Support Discord server</a></li><li><a href=https://docs.ethers.io/>Ethers.js Documentation</a></li><li><a href=https://getwaffle.io/>Waffle Documentation</a></li><li><a href=https://mochajs.org/>Mocha Documentation</a></li><li><a href=https://www.chaijs.com/>Chai Documentation</a></li></ul></div><div class=article-footer><blockquote class=mt-2x><ul class="post-copyright list-unstyled"><li class="post-copyright-link hidden-xs"><strong>æœ¬æ–‡é“¾æ¥:</strong>
<a href=https://www.ganymedenil.com/2022/03/03/getting-started-with-ethereum-smart-contracts-with-hardhat.html title="ä½¿ç”¨ Hardhat å…¥é—¨ä»¥å¤ªåŠæ™ºèƒ½åˆçº¦" target=_blank rel=external>https://www.ganymedenil.com/2022/03/03/getting-started-with-ethereum-smart-contracts-with-hardhat.html</a></li><li class=post-copyright-license><strong>ç‰ˆæƒå£°æ˜ï¼š</strong><a href=http://creativecommons.org/licenses/by/4.0/deed.zh target=_blank rel=external>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY 4.0 CNåè®® è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„</a></li></ul></blockquote><div class="panel panel-default panel-badger"><div class=panel-body><figure class=media><div class=media-left><a href=https://github.com/GanymedeNil target=_blank class="img-burn thumb-sm visible-lg"><img src=/avatar.png class="img-rounded w-full" alt></a></div><div class=media-body><h3 class=media-heading><a href=https://github.com/GanymedeNil target=_blank><span class=text-dark>Ganymede Nil</span><small class=ml-1x>Developer</small></a></h3><div>å–œæ¬¢æ–°äº‹ç‰©ï¼Œå…³æ³¨åç«¯åŠ¨æ€ï¼Œå¯¹æ–°çš„æŠ€æœ¯æœ‰è¿½æ±‚ï¼› å–œæ¬¢ codingã€‚</div></div></figure></div></div></div></article><section id=comments><div id=vcomments></div></section></div><nav class="bar bar-footer clearfix" data-stick-bottom><div class=bar-inner><ul class="pager pull-left"><li class=prev><a href=/2021/11/09/ntf-dabt-part-1.html title="NFT æ•°å­—è‰ºæœ¯å“  part 1"><i class="icon icon-angle-left" aria-hidden=true></i><span>&nbsp;&nbsp;ä¸‹ä¸€ç¯‡</span></a></li><li class=next><a href=/2022/04/22/what-are-microservices.html title=æˆ‘çš„å¾®æœåŠ¡æ€»ç»“><span>ä¸Šä¸€ç¯‡&nbsp;&nbsp;</span><i class="icon icon-angle-right" aria-hidden=true></i></a></li><li class=toggle-toc><a class="toggle-btn collapsed" data-toggle=collapse href=#collapseToc aria-expanded=false title=æ–‡ç« ç›®å½• role=button><span>[&nbsp;</span><span>æ–‡ç« ç›®å½•</span>
<i class="text-collapsed icon icon-anchor"></i>
<i class="text-in icon icon-close"></i>
<span>]</span></a></li></ul><button type=button class="btn btn-fancy btn-donate pop-onhover bg-gradient-warning" data-toggle=modal data-target=#donateModal><span>èµ</span></button><div class=bar-right><div class=share-component data-sites=weibo,qq,wechat,facebook,twitter data-mobile-sites=weibo,qq,qzone></div></div></div></nav><div class="modal modal-center modal-small modal-xs-full fade" id=donateModal tabindex=-1 role=dialog><div class=modal-dialog role=document><div class="modal-content donate"><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&#215;</span></button><div class=modal-body><div class=donate-box><div class=donate-head><p>æ„Ÿè°¢æ‚¨çš„æ”¯æŒ,æˆ‘ä¼šç»§ç»­åŠªåŠ›çš„!</p></div><div class=tab-content><div role=tabpanel class="tab-pane fade active in" id=alipay><div class=donate-payimg><img src=/donate/alipay.jpg alt=æ‰«ç æ”¯æŒ title=æ‰«ä¸€æ‰«></div><p class="text-muted mv">æ‰«ç æ‰“èµ, å¤šå°‘ä½ è¯´äº†ç®—~</p><p class=text-grey>æ‰“å¼€æ”¯ä»˜å®æ‰«ä¸€æ‰«ï¼Œå³å¯è¿›è¡Œæ‰«ç æ‰“èµå“¦~</p></div><div role=tabpanel class="tab-pane fade" id=wechatpay><div class=donate-payimg><img src=/donate/weipay.jpg alt=æ‰«ç æ”¯æŒ title=æ‰«ä¸€æ‰«></div><p class="text-muted mv">æ‰«ç æ‰“èµ, å¤šå°‘ä½ è¯´äº†ç®—~</p><p class=text-grey>æ‰“å¼€å¾®ä¿¡æ‰«ä¸€æ‰«ï¼Œå³å¯è¿›è¡Œæ‰«ç æ‰“èµå“¦</p></div></div><div class=donate-footer><ul class="nav nav-tabs nav-justified" role=tablist><li role=presentation class=active><a href=#alipay id=alipay-tab role=tab data-toggle=tab aria-controls=alipay aria-expanded=true><i class="icon icon-alipay"></i> æ”¯ä»˜å®</a></li><li role=presentation><a href=#wechatpay role=tab id=wechatpay-tab data-toggle=tab aria-controls=wechatpay aria-expanded=false><i class="icon icon-wepay"></i>
å¾®ä¿¡æ”¯ä»˜</a></li></ul></div></div></div></div></div></div></main><footer class=footer itemscope itemtype=http://schema.org/WPFooter><ul class=social-links><li><a href=https://github.com/GanymedeNil target=_blank title=github data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li><li><a href=/index.xml target=_blank title=rss data-toggle=tooltip data-placement=top><i class="icon icon-rss"></i></a></li><li><a href=http://weibo.com/jinhongyang target=_blank title=weibo data-toggle=tooltip data-placement=top><i class="icon icon-weibo"></i></a></li></ul><div class=copyright>&copy;2017 -
2025<div class=publishby>Theme by <a href=https://github.com/cofess target=_blank>cofess </a>base on<a href=https://github.com/cofess/hexo-theme-pure target=_blank> pure</a>.</div><div>powered by <a href=https://gohugo.io/ target=_blank>hugo</a></div></div></footer><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_SVG"></script>
<script type=text/x-mathjax-config>
    MathJax.Hub.Config({
            showMathMenu: false, //disables context menu
            tex2jax: {
            inlineMath: [ ['$','$'], ['\\(','\\)'] ]
           }
    });
</script><script src=https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js></script>
<script>window.jQuery||document.write('<script src="js/jquery.min.js"><\/script>')</script><script type=text/javascript src=https://cdn.staticfile.org/highlight.js/9.15.10/highlight.min.js></script>
<script type=text/javascript src=https://cdn.staticfile.org/highlight.js/9.15.10/languages/go.min.js defer></script>
<script type=text/javascript src=https://cdn.staticfile.org/highlight.js/9.15.10/languages/php.min.js defer></script>
<script type=text/javascript src=https://cdn.staticfile.org/highlight.js/9.15.10/languages/bash.min.js defer></script>
<script type=text/javascript src=https://cdn.staticfile.org/highlight.js/9.15.10/languages/cmake.min.js defer></script>
<script type=text/javascript src=https://cdn.staticfile.org/highlight.js/9.15.10/languages/dockerfile.min.js defer></script>
<script type=text/javascript src=https://cdn.staticfile.org/highlight.js/9.15.10/languages/json.min.js defer></script>
<script type=text/javascript src=https://cdn.staticfile.org/highlight.js/9.15.10/languages/lua.min.js defer></script>
<script type=text/javascript src=https://cdn.staticfile.org/highlight.js/9.15.10/languages/makefile.min.js defer></script>
<script type=text/javascript src=https://cdn.staticfile.org/highlight.js/9.15.10/languages/nginx.min.js defer></script>
<script type=text/javascript src=https://cdn.staticfile.org/highlight.js/9.15.10/languages/rust.min.js defer></script>
<script type=text/javascript src=https://cdn.staticfile.org/highlight.js/9.15.10/languages/shell.min.js defer></script>
<script type=text/javascript src=https://cdn.staticfile.org/highlight.js/9.15.10/languages/yaml.min.js defer></script><script>hljs.configure({tabReplace:"    ",classPrefix:""}),hljs.initHighlightingOnLoad()</script>
<script src=/js/application.min.7ef841188add421ff966768c2e5f1a1551076353a65f0d39fbaf504b456936f8.js></script>
<script src=/js/plugin.min.738a460bf4317fac61717f1bca393e53d00973db9754d9f0a81c7312d5874840.js></script>
<script>(function(e){var t={TRANSLATION:{POSTS:"æ–‡ç« ",PAGES:"é¡µé¢",CATEGORIES:"åˆ†ç±»",TAGS:"æ ‡ç­¾",UNTITLED:"(æœªå‘½å)"},ROOT_URL:"https://www.ganymedenil.com",CONTENT_URL:"https://www.ganymedenil.com/searchindex.json "};e.INSIGHT_CONFIG=t})(window)</script><script type=text/javascript src=/js/insight.min.716b0c6a00b68ccc31a2b65345f3412f4246ffa94a90f8e25d525528b4504f9937880692bbe619023233caba5d0a17ebe23d7cfb57cd3a88f23ea337ad5e4d00.js defer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.min.js></script>
<script>tocbot.init({tocSelector:".js-toc",contentSelector:".js-toc-content",headingSelector:"h1, h2, h3",hasInnerContainers:!0})</script><script src=https://cdn1.lncld.net/static/js/3.0.4/av-min.js></script>
<script src=https://cdn.jsdelivr.net/npm/valine></script>
<script type=text/javascript>var GUEST=["nick","mail","link"],meta="nick,mail",meta=meta.split(",").filter(function(e){return GUEST.indexOf(e)>-1});new Valine({el:"#vcomments",verify:null,notify:null,appId:"lI57bh1xqblhjL3OUrOcnX2R-gzGzoHsz",appKey:"2aCHvIxz6nKXqP0sBq42gBhC",placeholder:"enjoy~",avatar:"mm",meta,pageSize:"10"||10,visitor:!1})</script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-140810980-1"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","UA-140810980-1")</script></body></html>